<html>

<head>
    <meta charset="UTF-8" />
    <title>APISnoop Progress Reports</title>
    <meta content="Oz document" name="description" />
    <meta content="width=device-width, initial-scale=1" name="viewport" />
    <link href="main.css" type="text/css" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Serif&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/vega@5.9.0" type="text/javascript"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@4.0.2" type="text/javascript"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@6.0.0" type="text/javascript"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" type="text/javascript"></script>
</head>

<body>
    <main>
        <h1>APISnoop Progress reports</h1>
        <div id="prologue">
            <p>These charts track the progress on conformance coverage for kubernetes stable endpoints.</p>
            <p>In these, we only look at endpoints that are in GA, and qualify for conformance tests (do not use vendor specific features like volumes and other non-conformant behaviour).</p>
            <p>We also limited the set to only endpoints still around today, filtering out any deprecated endpoints.</p>
        </div>
        <h2>Stable Endpoint Coverage Over Time</h2><em>In this, we look at the total endpoints per release and how many came in with tests. We also track the overall testing coverage per release.</em>
        <div>
            <div id="viz-f4ddec00-be12-4d9c-9435-a8f7dfb72c65"></div>
            <script type="text/javascript">
                vegaEmbed('#viz-f4ddec00-be12-4d9c-9435-a8f7dfb72c65', {
                    "data": {
                        "values": [{
                            "release": "1.8.0",
                            "type": "tested",
                            "total": 0,
                            "order": "a"
                        }, {
                            "release": "1.8.0",
                            "type": "untested",
                            "total": 0,
                            "order": "c"
                        }, {
                            "release": "1.8.0",
                            "type": "new_untested",
                            "total": 237,
                            "order": "d"
                        }, {
                            "release": "1.8.0",
                            "type": "new_tested",
                            "total": 36,
                            "order": "b"
                        }, {
                            "release": "1.9.0",
                            "type": "tested",
                            "total": 54,
                            "order": "a"
                        }, {
                            "release": "1.9.0",
                            "type": "untested",
                            "total": 219,
                            "order": "c"
                        }, {
                            "release": "1.9.0",
                            "type": "new_untested",
                            "total": 49,
                            "order": "d"
                        }, {
                            "release": "1.9.0",
                            "type": "new_tested",
                            "total": 14,
                            "order": "b"
                        }, {
                            "release": "1.10.0",
                            "type": "tested",
                            "total": 68,
                            "order": "a"
                        }, {
                            "release": "1.10.0",
                            "type": "untested",
                            "total": 268,
                            "order": "c"
                        }, {
                            "release": "1.10.0",
                            "type": "new_untested",
                            "total": 5,
                            "order": "d"
                        }, {
                            "release": "1.10.0",
                            "type": "new_tested",
                            "total": 4,
                            "order": "b"
                        }, {
                            "release": "1.11.0",
                            "type": "tested",
                            "total": 72,
                            "order": "a"
                        }, {
                            "release": "1.11.0",
                            "type": "untested",
                            "total": 273,
                            "order": "c"
                        }, {
                            "release": "1.11.0",
                            "type": "new_untested",
                            "total": 2,
                            "order": "d"
                        }, {
                            "release": "1.11.0",
                            "type": "new_tested",
                            "total": 0,
                            "order": "b"
                        }, {
                            "release": "1.12.0",
                            "type": "tested",
                            "total": 72,
                            "order": "a"
                        }, {
                            "release": "1.12.0",
                            "type": "untested",
                            "total": 275,
                            "order": "c"
                        }, {
                            "release": "1.12.0",
                            "type": "new_untested",
                            "total": 1,
                            "order": "d"
                        }, {
                            "release": "1.12.0",
                            "type": "new_tested",
                            "total": 0,
                            "order": "b"
                        }, {
                            "release": "1.13.0",
                            "type": "tested",
                            "total": 73,
                            "order": "a"
                        }, {
                            "release": "1.13.0",
                            "type": "untested",
                            "total": 275,
                            "order": "c"
                        }, {
                            "release": "1.13.0",
                            "type": "new_untested",
                            "total": 0,
                            "order": "d"
                        }, {
                            "release": "1.13.0",
                            "type": "new_tested",
                            "total": 0,
                            "order": "b"
                        }, {
                            "release": "1.14.0",
                            "type": "tested",
                            "total": 73,
                            "order": "a"
                        }, {
                            "release": "1.14.0",
                            "type": "untested",
                            "total": 275,
                            "order": "c"
                        }, {
                            "release": "1.14.0",
                            "type": "new_untested",
                            "total": 16,
                            "order": "d"
                        }, {
                            "release": "1.14.0",
                            "type": "new_tested",
                            "total": 2,
                            "order": "b"
                        }, {
                            "release": "1.15.0",
                            "type": "tested",
                            "total": 82,
                            "order": "a"
                        }, {
                            "release": "1.15.0",
                            "type": "untested",
                            "total": 284,
                            "order": "c"
                        }, {
                            "release": "1.15.0",
                            "type": "new_untested",
                            "total": 0,
                            "order": "d"
                        }, {
                            "release": "1.15.0",
                            "type": "new_tested",
                            "total": 0,
                            "order": "b"
                        }, {
                            "release": "1.16.0",
                            "type": "tested",
                            "total": 95,
                            "order": "a"
                        }, {
                            "release": "1.16.0",
                            "type": "untested",
                            "total": 271,
                            "order": "c"
                        }, {
                            "release": "1.16.0",
                            "type": "new_untested",
                            "total": 2,
                            "order": "d"
                        }, {
                            "release": "1.16.0",
                            "type": "new_tested",
                            "total": 26,
                            "order": "b"
                        }, {
                            "release": "1.17.0",
                            "type": "tested",
                            "total": 128,
                            "order": "a"
                        }, {
                            "release": "1.17.0",
                            "type": "untested",
                            "total": 266,
                            "order": "c"
                        }, {
                            "release": "1.17.0",
                            "type": "new_untested",
                            "total": 8,
                            "order": "d"
                        }, {
                            "release": "1.17.0",
                            "type": "new_tested",
                            "total": 0,
                            "order": "b"
                        }, {
                            "release": "1.18.0",
                            "type": "tested",
                            "total": 137,
                            "order": "a"
                        }, {
                            "release": "1.18.0",
                            "type": "untested",
                            "total": 265,
                            "order": "c"
                        }, {
                            "release": "1.18.0",
                            "type": "new_untested",
                            "total": 7,
                            "order": "d"
                        }, {
                            "release": "1.18.0",
                            "type": "new_tested",
                            "total": 0,
                            "order": "b"
                        }, {
                            "release": "1.19.0",
                            "type": "tested",
                            "total": 146,
                            "order": "a"
                        }, {
                            "release": "1.19.0",
                            "type": "untested",
                            "total": 263,
                            "order": "c"
                        }, {
                            "release": "1.19.0",
                            "type": "new_untested",
                            "total": 0,
                            "order": "d"
                        }, {
                            "release": "1.19.0",
                            "type": "new_tested",
                            "total": 14,
                            "order": "b"
                        }]
                    },
                    "width": "900",
                    "height": "600",
                    "encoding": {
                        "x": {
                            "field": "release",
                            "type": "nominal",
                            "sort": null
                        },
                        "y": {
                            "field": "total",
                            "type": "quantitative",
                            "title": "Total Stable! Endpoints",
                            "sort": ["untested'", "tested'"]
                        },
                        "color": {
                            "field": "type",
                            "type": "nominal"
                        },
                        "order": {
                            "field": "order"
                        }
                    },
                    "mark": {
                        "type": "bar",
                        "tooltip": true
                    }
                }, {
                    "mode": "vega-lite"
                });
            </script>
        </div>
        <p>There's some interesting takeaways in this chart. For one, it wasn't possible to see which tests where hitting which endpoints until 1.12, and the tooling to better track this until a few releases later. Because of this, there's little coverage increase for releases 1.11 through 1.14; new tests were being added, but they weren't hitting new endpoints.</p>
        <p>In 1.16, the community set a requirement for any endpoint promoted to come with a conformance test. That release was a standout in terms of coverage: a significant number of new endpoints were added, with the majority promoted with tests</p>
        <p>Our latest release is also looking extremely positive, with every new endpoint promoted coming in with a test, along with the general testing coverage going up.</p>
        <h2>New endpoints per release and their current coverage</h2><em>In this chart we look at how many endpoints were promoted per release, and of that group, how many are untested today.</em>
        <p>We start the report at 1.8, so this will have the most new endpoints (since it really starts with all the existing endpoints at that time). This report highlights the importance of having a gate that ensures any promoted endpoint comes with a test. This became an initiative in 1.16 and that release has one of the best ratios of introduced to tested. 1.19 is also looking impressive, with currently 100% coverage on all its endpoints.</p>
        <div>
            <div id="viz-55b85fc2-9867-4422-9889-b27f8fada5dd"></div>
            <script type="text/javascript">
                vegaEmbed('#viz-55b85fc2-9867-4422-9889-b27f8fada5dd', {
                    "data": {
                        "values": [{
                            "release": "1.8.0",
                            "type": "tested",
                            "total": 273
                        }, {
                            "release": "1.8.0",
                            "type": "still_untested",
                            "total": 183
                        }, {
                            "release": "1.9.0",
                            "type": "tested",
                            "total": 63
                        }, {
                            "release": "1.9.0",
                            "type": "still_untested",
                            "total": 46
                        }, {
                            "release": "1.10.0",
                            "type": "tested",
                            "total": 9
                        }, {
                            "release": "1.10.0",
                            "type": "still_untested",
                            "total": 5
                        }, {
                            "release": "1.11.0",
                            "type": "tested",
                            "total": 2
                        }, {
                            "release": "1.11.0",
                            "type": "still_untested",
                            "total": 2
                        }, {
                            "release": "1.12.0",
                            "type": "tested",
                            "total": 1
                        }, {
                            "release": "1.12.0",
                            "type": "still_untested",
                            "total": 1
                        }, {
                            "release": "1.13.0",
                            "type": "tested",
                            "total": 0
                        }, {
                            "release": "1.13.0",
                            "type": "still_untested",
                            "total": 0
                        }, {
                            "release": "1.14.0",
                            "type": "tested",
                            "total": 18
                        }, {
                            "release": "1.14.0",
                            "type": "still_untested",
                            "total": 9
                        }, {
                            "release": "1.15.0",
                            "type": "tested",
                            "total": 0
                        }, {
                            "release": "1.15.0",
                            "type": "still_untested",
                            "total": 0
                        }, {
                            "release": "1.16.0",
                            "type": "tested",
                            "total": 28
                        }, {
                            "release": "1.16.0",
                            "type": "still_untested",
                            "total": 2
                        }, {
                            "release": "1.17.0",
                            "type": "tested",
                            "total": 8
                        }, {
                            "release": "1.17.0",
                            "type": "still_untested",
                            "total": 8
                        }, {
                            "release": "1.18.0",
                            "type": "tested",
                            "total": 7
                        }, {
                            "release": "1.18.0",
                            "type": "still_untested",
                            "total": 7
                        }, {
                            "release": "1.19.0",
                            "type": "tested",
                            "total": 14
                        }, {
                            "release": "1.19.0",
                            "type": "still_untested",
                            "total": 0
                        }]
                    },
                    "width": "900",
                    "height": "600",
                    "encoding": {
                        "x": {
                            "field": "release",
                            "type": "nominal",
                            "sort": null
                        },
                        "y": {
                            "field": "total",
                            "type": "quantitative",
                            "title": "Total Stable! Endpoints"
                        },
                        "color": {
                            "field": "type",
                            "type": "nominal"
                        }
                    },
                    "mark": {
                        "type": "bar",
                        "tooltip": true
                    }
                }, {
                    "mode": "vega-lite"
                });
            </script>
        </div>
    </main>
    <div class="vg-tooltip" id="vis-tooltip"></div>
    <script src="js/compiled/oz.js" type="text/javascript"></script>
</body>

</html>
